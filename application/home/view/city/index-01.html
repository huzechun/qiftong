
<style type="text/css">
body{ background:#EEEEEE;margin:0; padding:0; font-family:"微软雅黑", Arial, Helvetica, sans-serif; }
a{ color:#006600; text-decoration:none;}
a:hover{color:#990000;}
.top{ margin:5px auto; color:#990000; text-align:center;}
.info select{ border:1px #993300 solid; background:#FFFFFF;}
.info{ margin:5px; text-align:center;}
.info #show{ color:#3399FF; }
.bottom{ text-align:right; font-size:12px; color:#CCCCCC; width:1000px;}
</style>

<div class="top">
	<h1>js实现全国三级城市联动select选择</h1>
</div>
<div class="info">
    <form action="" method="post">
        <div>
            <select id="s_province" name="s_province"></select>  
            <select id="s_city" name="s_city" ></select>  
            <select id="s_county" name="s_county"></select>
            <script class="resources library" src="/js/area.js" type="text/javascript"></script>

            <script type="text/javascript">_init_area();</script>
            <input type="submit" value="提交"/>
        </div>
        <div id="show"></div>

    </form>
</div>
<script type="text/javascript">
var Gid  = document.getElementById ;
var showArea = function(){
	Gid('show').innerHTML = "<h3>省" + Gid('s_province').value + " - 市" + 	
	Gid('s_city').value + " - 县/区" + 
	Gid('s_county').value + "</h3>"
							}
Gid('s_county').setAttribute('onchange','showArea()');
</script>
<script type="text/javascript">

    function Dsy(){
        this.Items = {};
    }
    Dsy.prototype.add = function(id,iArray){
        this.Items[id] = iArray;
    }
    Dsy.prototype.Exists = function(id){
        if(typeof(this.Items[id]) == "undefined") return false;
        return true;
    }

    function change(v){
        var str="0";
        for(i=0;i<v;i++){
            str+=("_"+(document.getElementById(s[i]).selectedIndex-1));
        };
        var ss=document.getElementById(s[v]);
        with(ss){
            length = 0;
            options[0]=new Option(opt0[v],opt0[v]);
            if(v && document.getElementById(s[v-1]).selectedIndex>0 || !v){
                if(dsy.Exists(str)){
                    ar = dsy.Items[str];
                    for(i=0;i<ar.length;i++){
                        options[length]=new Option(ar[i],ar[i]);
                    }//end for
                    if(v){ options[0].selected = true; }
                }
            }//end if v
            if(++v<s.length){change(v);}
        }//End with
    }


</script>